-- All-in-one loading screen creator

local Players = game:GetService("Players")
local ContentProvider = game:GetService("ContentProvider")

local player = Players.LocalPlayer

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.IgnoreGuiInset = true
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Create Background Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(1, 0, 1, 0)
frame.Position = UDim2.new(0, 0, 0, 0)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BackgroundTransparency = 0
frame.Parent = screenGui

-- Create TextLabel
local textLabel = Instance.new("TextLabel")
textLabel.AnchorPoint = Vector2.new(0.5, 0.5)
textLabel.Position = UDim2.new(0.5, 0, 0.5, 0)
textLabel.Size = UDim2.new(0.6, 0, 0.2, 0)
textLabel.BackgroundTransparency = 1
textLabel.Text = "Please wait..."
textLabel.TextScaled = true
textLabel.Font = Enum.Font.GothamBold
textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
textLabel.Parent = frame

-- Make text pulse while loading
task.spawn(function()
	while screenGui.Enabled do
		textLabel.TextTransparency = 0.2
		task.wait(0.5)
		textLabel.TextTransparency = 0.5
		task.wait(0.5)
	end
end)

-- Wait for all assets in game to load
local assets = game:GetDescendants()
ContentProvider:PreloadAsync(assets)

-- Fade out effect
for i = 0, 1, 0.05 do
	frame.BackgroundTransparency = i
	textLabel.TextTransparency = i
	task.wait(0.05)
end

screenGui.Enabled = false
